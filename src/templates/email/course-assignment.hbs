<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Course Assignment Notification</title>
    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333333;
        background-color: #f8f9fa;
        margin: 0;
        padding: 0;
      }

      .container {
        max-width: 600px;
        margin: 20px auto;
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 0 20px rgba(0,0,0,0.15);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 25px;
        text-align: center;
      }

      .header h1 {
        margin: 0;
        font-size: 24px;
        font-weight: 500;
      }

      .content {
        padding: 30px 25px;
      }

      .course-info {
        background: #f8f9fa;
        border-left: 4px solid #667eea;
        padding: 15px;
        margin: 20px 0;
        border-radius: 6px;
      }

      .course-info h3 {
        margin-top: 0;
        color: #667eea;
        font-size: 18px;
      }

      .course-details {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        margin: 12px 0;
      }

      .detail-item {
        display: flex;
        align-items: center;
        font-size: 14px;
      }

      .detail-label {
        font-weight: 600;
        margin-right: 6px;
      }

      .detail-value {
        color: #6c757d;
      }

      .assignment-info {
        background: #e8f4fd;
        border: 1px solid #b8daff;
        border-radius: 8px;
        padding: 15px;
        margin: 20px 0;
      }

      .assignment-info h4 {
        margin-top: 0;
        color: #667eea;
        font-size: 16px;
      }

      .reason-box {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 6px;
        padding: 12px;
        margin: 12px 0;
      }

      .reason-label {
        font-weight: 600;
        color: #856404;
        margin-bottom: 4px;
      }

      .reason-text {
        color: #856404;
        font-style: italic;
        font-size: 14px;
      }

      .action-button {
        display: inline-block;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 12px 24px;
        text-decoration: none;
        border-radius: 25px;
        font-weight: 600;
        text-align: center;
        margin: 20px 0;
        transition: transform 0.2s;
      }

      .action-button:hover {
        transform: translateY(-2px);
      }

      .footer {
        background: #f8f9fa;
        padding: 15px 25px;
        text-align: center;
        color: #6c757d;
        font-size: 13px;
        border-top: 1px solid #b8daff;
      }

      .footer p {
        margin: 4px 0;
      }

      .timestamp {
        background: #f8f9fa;
        padding: 8px;
        border-radius: 5px;
        font-size: 13px;
        color: #6c757d;
        text-align: center;
        margin: 15px 0;
      }

      /* Dark Mode */
      @media (prefers-color-scheme: dark) {
        body {
          background-color: #121212;
          color: #e0e0e0;
        }

        .container {
          background: #1e1e1e;
        }

        .course-info {
          background: #121212;
          border-left: 4px solid #8b9bff;
        }

        .course-info h3 {
          color: #8b9bff;
        }

        .detail-value {
          color: #a0a0a0;
        }

        .assignment-info {
          background: #1a2535;
          border: 1px solid #334155;
        }

        .assignment-info h4 {
          color: #8b9bff;
        }

        .reason-box {
          background: #2c2412;
          border: 1px solid #3d2f14;
        }

        .reason-label,
        .reason-text {
          color: #facc15;
        }

        .action-button {
          background: linear-gradient(135deg, #8b9bff 0%, #9a6cff 100%);
        }

        .footer {
          background: #121212;
          color: #a0a0a0;
          border-top: 1px solid #334155;
        }

        .timestamp {
          background: #121212;
          color: #a0a0a0;
        }
      }

      @media (max-width: 600px) {
        .course-details {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ðŸ“š Course Assignment Notification</h1>
      </div>

      <div class="content">
        <h2>Hello {{lecturer_name}},</h2>

        <p>You have been assigned a new course in the UniTrack Attendance
          System. Please review the details below:</p>

        <div class="course-info">
          <h3>{{course_title}}</h3>
          <div class="course-details">
            <div class="detail-item">
              <span class="detail-label">Course Code:</span>
              <span class="detail-value">{{course_code}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Level:</span>
              <span class="detail-value">{{level}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Assignment Date:</span>
              <span class="detail-value">{{assignment_date}}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Assigned By:</span>
              <span class="detail-value">{{assigned_by}}</span>
            </div>
          </div>
        </div>

        {{#if is_reassignment}}
          <div class="assignment-info">
            <h4>ðŸ”„ Course Reassignment</h4>
            <p>This course was previously managed by
              <strong>{{previous_lecturer}}</strong>
              and has now been reassigned to you.</p>
            {{#if reason}}
              <div class="reason-box">
                <div class="reason-label">Reason for Reassignment:</div>
                <div class="reason-text">{{reason}}</div>
              </div>
            {{/if}}
          </div>
        {{else}}
          <div class="assignment-info">
            <h4>ðŸ†• New Course Assignment</h4>
            <p>This is a newly created course that has been assigned to you.</p>
            {{#if reason}}
              <div class="reason-box">
                <div class="reason-label">Assignment Notes:</div>
                <div class="reason-text">{{reason}}</div>
              </div>
            {{/if}}
          </div>
        {{/if}}

        <p><strong>What to do next:</strong></p>
        <ul>
          <li>Log in to the UniTrack system to view your course</li>
          <li>Add students to your course</li>
          <li>Create attendance sessions</li>
          <li>Monitor student attendance and generate reports</li>
        </ul>

        <div style="text-align: center;">
          <a href="{{login_url}}" class="action-button">
            Access Your Dashboard
          </a>
        </div>

        <div class="timestamp">
          <strong>Assigned:</strong>
          {{assignment_timestamp}}
        </div>

        <p>If you have any questions about this course assignment, please
          contact your system administrator.</p>

        <p>Best regards,<br />
          <strong>UniTrack Attendance System</strong></p>
      </div>

      <div class="footer">
        <p><strong>UniTrack Attendance Management System</strong></p>
        <p>This is an automated notification. Do not reply.</p>
        <p>&copy; 2025 UniTrack. All rights reserved.</p>
      </div>
    </div>
  </body>
</html>
